<div class="min-h-screen bg-background p-6">
  <div class="mx-auto max-w-4xl">
    <!-- Page Header -->
    <div class="mb-6">
      <h1>Input Component</h1>
      <p class="text-muted-foreground">灵活且可访问的输入框组件，采用矿物与时光主题设计</p>
    </div>

    <!-- Basic Inputs Section -->
    <div class="demo-section">
      <h2>基础输入框</h2>
      <p class="text-sm text-muted-foreground">常用类型的输入框示例</p>
      <div class="input-grid">
        @for (item of basicInputs; track item.placeholder) {
          <div class="input-wrapper">
            <input
              spark-input
              [type]="item.type"
              [placeholder]="item.placeholder"
              [disabled]="item.disabled ?? false"
              [attr.aria-invalid]="item.invalid ? 'true' : null"
            />
            @if (item.description) {
              <p class="input-description">{{ item.description }}</p>
            }
          </div>
        }
      </div>
    </div>

    <!-- Input States Section -->
    <div class="demo-section">
      <h2>输入框状态</h2>
      <p class="text-sm text-muted-foreground">不同状态的输入框示例</p>
      <div class="input-grid">
        @for (item of stateInputs; track item.placeholder) {
          <div class="input-wrapper">
            <input
              spark-input
              [type]="item.type"
              [placeholder]="item.placeholder"
              [disabled]="item.disabled ?? false"
              [attr.aria-invalid]="item.invalid ? 'true' : null"
              [value]="item.value"
            />
            @if (item.description) {
              <p class="input-description">{{ item.description }}</p>
            }
          </div>
        }
      </div>
    </div>

    <!-- Special Input Types Section -->
    <div class="demo-section">
      <h2>特殊类型</h2>
      <p class="text-sm text-muted-foreground">特殊用途的输入框类型</p>
      <div class="input-grid">
        @for (item of specialInputs; track item.placeholder) {
          <div class="input-wrapper">
            <label class="input-label">{{ item.description }}</label>
            <input
              spark-input
              [type]="item.type"
              [placeholder]="item.placeholder"
              [disabled]="item.disabled ?? false"
            />
          </div>
        }
      </div>
    </div>

    <!-- Interactive Demo Section -->
    <div class="demo-section">
      <h2>交互式演示</h2>
      <p class="text-muted-foreground">在输入框中输入内容，查看事件处理效果：</p>
      <div class="input-wrapper">
        <input spark-input type="text" placeholder="在这里输入..." (input)="handleInput($event)" />
      </div>
      <div class="stats-panel">
        <div class="stat-item">
          <span class="stat-label">输入次数：</span>
          <span class="stat-value">{{ inputCount() }}</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">最后输入：</span>
          <span class="stat-value">{{ lastValue() || '(无)' }}</span>
        </div>
        @if (lastUpdateTime()) {
          <div class="stat-item">
            <span class="stat-label">最后更新：</span>
            <span class="stat-value">{{ lastUpdateTime() | date: 'medium' }}</span>
          </div>
        }
      </div>
      <button spark-button (click)="resetStats()">重置统计</button>
    </div>

    <!-- Form Example Section -->
    <div class="demo-section">
      <h2>表单示例</h2>
      <p class="text-muted-foreground">综合表单示例，包含多种输入类型</p>
      <div class="form-container">
        @for (field of formFields; track field.name) {
          <div class="form-field">
            <label class="form-label" [for]="field.name">
              {{ field.label }}
              @if (field.required) {
                <span class="required">*</span>
              }
            </label>
            <input
              spark-input
              [type]="field.type"
              [id]="field.name"
              [placeholder]="field.placeholder"
              [value]="getFieldValue(field.name)"
              (input)="handleFormFieldInput(field.name, $event)"
            />
          </div>
        }
        <div class="form-actions">
          <button spark-button (click)="submitForm()">提交表单</button>
          <button spark-button variant="outline" (click)="resetForm()">重置</button>
        </div>
      </div>
    </div>

    <!-- Dark Mode Preview Section -->
    <div class="demo-section">
      <h2>深色模式预览</h2>
      <p class="text-muted-foreground">查看输入框在深色模式下的效果：</p>
      <div class="dark-preview">
        <div class="input-grid">
          <div class="input-wrapper">
            <input spark-input type="text" placeholder="默认输入框" />
          </div>
          <div class="input-wrapper">
            <input spark-input type="email" placeholder="邮箱输入框" />
          </div>
          <div class="input-wrapper">
            <input spark-input type="password" placeholder="密码输入框" />
          </div>
        </div>
      </div>
    </div>

    <!-- Usage Example Section -->
    <div class="demo-section">
      <h2>使用示例</h2>
      <div class="code-example">
        <p class="text-xs font-semibold mb-2">基础用法：</p>
        <code class="code-block">
          &lt;input spark-input type="text" placeholder="请输入内容" /&gt;
        </code>
      </div>
    </div>
  </div>
</div>
