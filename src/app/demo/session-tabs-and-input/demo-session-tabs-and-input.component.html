<div class="min-h-screen flex items-center justify-center bg-background p-4 relative">
  <!-- ç»„ä»¶è¯´æ˜ - å³ä¸Šè§’ -->
  <aside
    class="fixed top-4 right-4 w-80 p-4 bg-background border rounded-lg shadow-lg text-sm max-h-[90vh] overflow-y-auto"
  >
    <h2 class="text-base font-medium text-foreground mb-2">Session Tabs + Input</h2>
    <p class="text-muted-foreground mb-3">
      å±•ç¤ºå¦‚ä½•ç»„åˆä½¿ç”¨ Session Tabs Bar å’Œ Chat Input ä¸¤ä¸ªç‹¬ç«‹ç»„ä»¶
    </p>

    <!-- åŠŸèƒ½åˆ—è¡¨ -->
    <div class="space-y-2 text-xs mb-4">
      @for (feature of features; track feature.title) {
        <div class="flex items-start gap-2">
          <span class="text-muted-foreground">{{ feature.icon }}</span>
          <div>
            <span class="text-foreground font-medium">{{ feature.title }}:</span>
            <span class="text-muted-foreground">{{ feature.desc }}</span>
          </div>
        </div>
      }
    </div>

    <!-- å¿«æ·é”® -->
    <div class="mb-4 pb-3 border-t">
      <h3 class="text-xs font-medium text-foreground mb-2">å¿«æ·é”®</h3>
      <div class="space-y-1 text-xs">
        @for (item of shortcuts; track item.key) {
          <div class="flex justify-between gap-2">
            <span class="text-muted-foreground">{{ item.key }}</span>
            <span class="text-foreground">{{ item.value }}</span>
          </div>
        }
      </div>
    </div>

    <!-- æ§åˆ¶æŒ‰é’® -->
    <div class="space-y-2">
      <h3 class="text-xs font-medium text-foreground mb-2">æ§åˆ¶é¢æ¿</h3>

      <button
        class="w-full text-xs px-2 py-1.5 border rounded hover:bg-accent transition-colors text-left"
        (click)="togglePanel()"
      >
        {{ isOpen() ? 'ğŸ“– é¢æ¿: å·²å±•å¼€' : 'ğŸ“• é¢æ¿: å·²æ”¶èµ·' }}
      </button>

      <button
        class="w-full text-xs px-2 py-1.5 border rounded hover:bg-accent transition-colors text-left"
        (click)="toggleDisabled()"
      >
        {{ disabled() ? 'ğŸš« è¾“å…¥æ¡†: å·²ç¦ç”¨' : 'âœ… è¾“å…¥æ¡†: å·²å¯ç”¨' }}
      </button>

      <button
        class="w-full text-xs px-2 py-1.5 border rounded hover:bg-accent transition-colors text-left"
        (click)="clearLog()"
      >
        ğŸ—‘ï¸ æ¸…ç©ºæ—¥å¿— ({{ eventLog().length }})
      </button>
    </div>

    <!-- äº‹ä»¶æ—¥å¿— -->
    @if (eventLog().length > 0) {
      <div class="mt-4 pt-3 border-t">
        <h3 class="text-xs font-medium text-foreground mb-2">äº‹ä»¶æ—¥å¿—</h3>
        <div class="space-y-1 max-h-32 overflow-y-auto text-xs font-mono">
          @for (log of eventLog(); track log) {
            <div class="text-muted-foreground truncate">{{ log }}</div>
          }
        </div>
      </div>
    }
  </aside>

  <!-- ç»„ä»¶å±•ç¤ºåŒºåŸŸ - å·¦å¯¹é½ -->
  <div class="component-container">
    <!-- Session Tabs Bar (ä¸Š) -->
    <div class="tabs-bar-wrapper">
      <spark-session-tabs-bar
        [sessions]="sessions"
        [activeSessionId]="activeSessionId"
        (sessionSelect)="onSessionSelect($event)"
        (sessionToggle)="onSessionToggle()"
        (newChat)="onNewChat()"
        (sessionRename)="onSessionRename($event)"
        (sessionColorChange)="onSessionColorChange($event)"
        (sessionClose)="onSessionClose($event)"
      />
    </div>

    <!-- Chat Input (ä¸‹) -->
    @if (isOpen()) {
      <div class="input-wrapper">
        <ai-chat-input
          [value]="inputValue()"
          [placeholder]="placeholder()"
          [disabled]="disabled()"
          (send)="onSend($event)"
          (fileClick)="onFileClick()"
          (imageClick)="onImageClick()"
          (voiceClick)="onVoiceClick()"
        />
      </div>
    }
  </div>
</div>
