<div class="demo-page">
  <header class="demo-header">
    <h1>Streaming Markdown Demo</h1>
    <p>同一份 Markdown：左侧静态渲染，右侧流式渲染。</p>
  </header>

  <section class="controls">
    <button type="button" class="btn primary" (click)="startStreaming()" [disabled]="isStreaming">
      开始 Streaming
    </button>
    <button type="button" class="btn" (click)="stopStreaming()" [disabled]="!isStreaming">
      停止
    </button>
    <button type="button" class="btn" (click)="replayStreaming()">
      重播
    </button>

    <label class="toggle">
      <input
        type="checkbox"
        [checked]="enableLazyHighlight"
        (change)="enableLazyHighlight = !enableLazyHighlight" />
      lazyHighlight
    </label>

    <span class="status" [class.active]="isStreaming">
      {{ isStreaming ? 'Streaming中' : '已停止' }}
    </span>
  </section>

  <section class="compare-grid">
    <article class="panel">
      <h2>静态渲染（一次性）</h2>
      <static-markdown [content]="markdownContent"></static-markdown>
    </article>

    <article class="panel">
      <h2>流式渲染（分块输入）</h2>
      <app-streaming-markdown
        [stream$]="stream$"
        [maxHeight]="'680px'"
        [enableLazyHighlight]="enableLazyHighlight">
      </app-streaming-markdown>
    </article>
  </section>
</div>
