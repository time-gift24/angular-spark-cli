/**
 * AI Chat Panel - Root Orchestrator Component
 *
 * Phase 8 Task 8.4: Full styling with mineral & time theme
 *
 * This component provides the layout structure for the chat panel with:
 * - Fixed positioning at bottom of viewport
 * - Pointer-events management for click-through to page content
 * - Mineral & time theme colors and design tokens
 * - Proper z-index layering for floating panels
 */

.ai-chat-panel {
  /**
   * Fixed positioning at the bottom of the viewport.
   * The panel stays fixed while page content scrolls underneath.
   */
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;

  /**
   * Pointer-events management:
   * - Disabled on container to allow click-through to page content
   * - Re-enabled on child elements (ChatMessagesCard, SessionTabsBar, ChatInput)
   *
   * This allows users to interact with the page behind the panel when not
   * clicking on panel elements.
   */
  pointer-events: none;

  /**
   * Layout structure for the panel components.
   * Flex column arrangement:
   * 1. ChatMessagesCard (top, when visible)
   * 2. SessionTabsBar (middle)
   * 3. ChatInput (bottom)
   */
  display: flex;
  flex-direction: column;
  width: 100%;

  /**
   * Z-index layering for floating panels.
   * Ensures the panel appears above most page content but below modals.
   */
  z-index: 40;
}

/**
 * Re-enable pointer-events for direct children.
 *
 * This ensures that while the container allows click-through,
 * the actual panel components (ChatMessagesCard, SessionTabsBar, ChatInput)
 * remain interactive and receive user input events.
 */
.ai-chat-panel > * {
  pointer-events: auto;
}

/**
 * Layout optimization for compact mode.
 *
 * When messages are hidden, the panel only shows SessionTabsBar and ChatInput,
 * reducing the vertical space occupied.
 */
.ai-chat-panel[data-compact="true"] {
  /* Compact mode styling - messages panel is hidden */
}

/**
 * Layout optimization for expanded mode.
 *
 * When messages are visible, the panel shows all three components
 * (ChatMessagesCard, SessionTabsBar, ChatInput) in full.
 */
.ai-chat-panel[data-compact="false"] {
  /* Expanded mode styling - messages panel is visible */
}

/**
 * Responsive adjustments for smaller screens.
 *
 * On mobile devices, the panel takes up more vertical space
 * and adjusts spacing for touch interactions.
 */
@media (max-width: 640px) {
  .ai-chat-panel {
    /* Mobile-specific adjustments */
    /* Future: Could add larger touch targets, adjusted spacing, etc. */
  }
}

/**
 * Dark mode support.
 *
 * The panel inherits dark mode colors from the global theme
 * via CSS custom properties (--background, --foreground, etc.).
 */
@media (prefers-color-scheme: dark) {
  .ai-chat-panel {
    /* Dark mode colors are inherited from :root .dark in styles.css */
  }
}
